---
title: "たった 1 行だけど OSS にコミットした"
date: 2020-11-14T11:35:43+09:00
description: OSS にコミットした経験のお話。ググって不具合を特定するところから、リポジトリをフォークしてコミット、プルリクエストを送るまでの経緯について。また、 OSS を利用するうえでの注意点。
hero: /images/posts/oss-commit.png
news_keywords:
  - OSS
  - コミッター
  - Git
  - Fork
  - Pull Request
  - フォーク
  - プルリクエスト
---

このサイトで使っている Hugo のテーマに不具合を見つけて「どうせだしプルリク送るかー」と思ってプルリクを送ったらマージしてもらえたときのお話です。

## :bug: 見つけた不具合

![Table of contents](/images/posts/table-of-contents.png)

ブログの記事を PC で表示しているときに右側に表示されている `Table of Contents` の欄。クリックするとその項目のところまでヌメっと動くのですが、

{{< youtube xhEhZULKLGQ >}}

{{< vs >}}

項目名にマルチバイト文字が入っている際にうまくいきませんでした。

{{< youtube 4-Qsv20CSNI >}}

{{< vs >}}

## :mag: どうやって直す方法を探したか

エラーメッセージでいろいろググっていたら以下のような記事を見つけました。

https://dev.to/nabbisen/jquery-id-syntax-error-unrecognized-expression-10b5

ID 値に日本語（マルチバイト文字）が含まれている場合うまくいかないのでは？となり、上記サイトに従って `this.hash` を `decodeURI(this.hash)` にしたところ、

{{< youtube kTN_xxt2vh8 >}}

{{< vs >}}

うまくいきました！！

## :fork_and_knife::meat_on_bone: リポジトリをフォークしてプルリクエストを送るまで

OSS にプルリクエストを送る流れは以下のようになります。

- OSS のソースコードをフォークする

![Fork](/images/posts/fork.png)

そうすると自分のところにリポジトリをクローンしたような形になります。

![Clone after fork](/images/posts/clone-after-fork.png)

- 自分のリポジトリで新しくブランチを作成してソースコードをいじる

- プルリクエストを送る

自分も初めてだったのでわからなかったのですが、フォークしたリポジトリと元のリポジトリを比較してプルリクエストを送ることができるみたいです。

実際のプルリクエストは [こちら](https://github.com/hugo-toha/toha/pull/164)

見事マージされて、 OSS に貢献することができました。

![Pull request](/images/posts/pull-request.png)

## :muscle: 貢献するのは意外と難しくない

今回 OSS に貢献するうえで初めて Git の Fork を使用しましたが、それ以外はプルリクエストを送るくらいで、普段の開発＋αくらいで貢献できたので、貢献するだけなら意外と難しくないのかもしれません。

大変だったのは、プルリクエストを英語で書くところです。

ちょいちょい Google 翻訳を使用しつつ書きましたが、それでも管理者の方にちゃんと受け入れていただくことができました。

## :convenience_store: OSS を利用するにあたって

OSS を使用するうえで最も留意しなければいけない点は、 <mark>OSS 自体にバグがあるかもしれない</mark> という点です。

開発で外部のサービスを利用するのは確かに便利ですが、そのサービスの不具合やダウンによって、自分の製品にも影響があるということを忘れてはいけません。

ですが、どうしても利用したいとき、動作してくれないと困るとき、それは世界中探せば同じ問題で困っている人がいるかもしれません。

思い切ってプルリクエストを送って承認されれば、自分の市場価値を少しだけ高められると思います。

みなさんもぜひやってみてください。

> この記事の改善点などある方はぜひ下のコメント欄に書き込んでみてください。
